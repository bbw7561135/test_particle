# Test particle simulation
Test particle code to study particle transport or energization.
The code is parallelized using MPI and OpenMP, and it use HDF5 for output.

## Compile
1. You need a MPI library and parallel HDF5.
2. You may need to change some variables in `Makfile`, including `CC`, `LD`, and `HDF5_ROOT`.

Then, simply `make` in the root directory.

## Run the code
1. Copy `config_files/init.dat` and `config_files/test_particle.sh` into the directory
that you are going to run the code. And you need to change `init.dat` and `test_particle.sh`.
The variables in the files should be self-explained.
   * The included `test_particle.sh` is designed for using the fields generated by 3D VPIC simulations.
   You may have to write some code and scripts to load the fields from your own simulations.
2. You can run the code by `./test_particle.sh`.
3. In default, the code generates four files.
   * `diff_coeffs.dat` (ASCII): diffusion coefficients. Please check `diagnostics.c` for details.
   * `espectrum.dat` (ASCII): energy spectrum. The first row is particle energy bins. The rest rows
   are spectrum at a series of time frames.
   * `particle_diagnostics.h5` (HDF5): particle trajectories.
   * `particles_fields_init.h5`: initial particle information, including particle position,
   velocity, time, charge/mass, electric field, and magnetic field.
